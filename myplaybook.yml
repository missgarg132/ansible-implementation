---
#This playbook provisions a linux server

- name: Provisioning a remote server
  hosts: localhost
  gather_facts: yes
  become: yes
  become_user: root
  become_method: sudo
  tasks:
     - name: Debug gathered facts
       debug:
          var: item
       with_items:
          - "{{ ansible_lsb }}"
          - "{{ ansible_default_ipv4 }}"
          - "{{ ansible_date_time }}"
          - "{{ ansible_dns }}"
          - "{{ ansible_env }}"
          - "{{ ansible_hostname }}"
          - "{{ ansible_memory_mb }}"
          - "{{ ansible_memfree_mb }}"

     - name: Capture OS name
       command: uname -a
       register: os_name

     - name: Debug Os Name
       debug:
          var: os_name.stdout   
  
  roles:
   - base
   - ufw
   - user
   - nginx
   - mariadb
   - ssh
...
